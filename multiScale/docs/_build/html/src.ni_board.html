<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>src.ni_board package &mdash; self-driving multi-scale imaging 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=359c27e9"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            self-driving multi-scale imaging
              <img src="_static/multiscale_logo.jpeg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">src.ni_board package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-src.ni_board.ni_synthetic">src.ni_board.ni_synthetic module</a><ul>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out"><code class="docutils literal notranslate"><span class="pre">Analog_Out</span></code></a><ul>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.__init__"><code class="docutils literal notranslate"><span class="pre">Analog_Out.__init__()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.close"><code class="docutils literal notranslate"><span class="pre">Analog_Out.close()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.get_voltage_array"><code class="docutils literal notranslate"><span class="pre">Analog_Out.get_voltage_array()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.p2s"><code class="docutils literal notranslate"><span class="pre">Analog_Out.p2s()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.play_voltages"><code class="docutils literal notranslate"><span class="pre">Analog_Out.play_voltages()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.plot_voltages"><code class="docutils literal notranslate"><span class="pre">Analog_Out.plot_voltages()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.s2p"><code class="docutils literal notranslate"><span class="pre">Analog_Out.s2p()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.s2s"><code class="docutils literal notranslate"><span class="pre">Analog_Out.s2s()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.set_rate"><code class="docutils literal notranslate"><span class="pre">Analog_Out.set_rate()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.set_verbose"><code class="docutils literal notranslate"><span class="pre">Analog_Out.set_verbose()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.ni_synthetic.Analog_Out.setconstantvoltage"><code class="docutils literal notranslate"><span class="pre">Analog_Out.setconstantvoltage()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.ni_board.vni">src.ni_board.vni module</a><ul>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out"><code class="docutils literal notranslate"><span class="pre">Analog_Out</span></code></a><ul>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.__init__"><code class="docutils literal notranslate"><span class="pre">Analog_Out.__init__()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.close"><code class="docutils literal notranslate"><span class="pre">Analog_Out.close()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.get_voltage_array"><code class="docutils literal notranslate"><span class="pre">Analog_Out.get_voltage_array()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.p2s"><code class="docutils literal notranslate"><span class="pre">Analog_Out.p2s()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.play_voltages"><code class="docutils literal notranslate"><span class="pre">Analog_Out.play_voltages()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.plot_voltages"><code class="docutils literal notranslate"><span class="pre">Analog_Out.plot_voltages()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.s2p"><code class="docutils literal notranslate"><span class="pre">Analog_Out.s2p()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.s2s"><code class="docutils literal notranslate"><span class="pre">Analog_Out.s2s()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.set_rate"><code class="docutils literal notranslate"><span class="pre">Analog_Out.set_rate()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.set_verbose"><code class="docutils literal notranslate"><span class="pre">Analog_Out.set_verbose()</span></code></a></li>
<li><a class="reference internal" href="#src.ni_board.vni.Analog_Out.setconstantvoltage"><code class="docutils literal notranslate"><span class="pre">Analog_Out.setconstantvoltage()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.ni_board.vni.check_error"><code class="docutils literal notranslate"><span class="pre">check_error()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.ni_board">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">self-driving multi-scale imaging</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">src.ni_board package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/src.ni_board.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="src-ni-board-package">
<h1>src.ni_board package<a class="headerlink" href="#src-ni-board-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-src.ni_board.ni_synthetic">
<span id="src-ni-board-ni-synthetic-module"></span><h2>src.ni_board.ni_synthetic module<a class="headerlink" href="#module-src.ni_board.ni_synthetic" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.ni_board.ni_synthetic.</span></span><span class="sig-name descname"><span class="pre">Analog_Out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daq_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'6733'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Dev1/ao0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daq_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'6733'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Dev1/ao0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Play analog voltages via a National Instruments analog-out DAQ board.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.get_voltage_array">
<span class="sig-name descname"><span class="pre">get_voltage_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exposure_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_low_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_high_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_triggertime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_camera_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_triggertime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">laser_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.get_voltage_array" title="Permalink to this definition"></a></dt>
<dd><p>channels: stage trigger, remote mirror, TTL laser (4), camera trigger
:returns Array with voltages for 0: stage, 1: camera trigger, 2: remote mirror</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.p2s">
<span class="sig-name descname"><span class="pre">p2s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pixels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.p2s" title="Permalink to this definition"></a></dt>
<dd><p>Convert a  number of AO “pixels to a duration in seconds.”
Frequently I know how many “pixels” of voltage I’m playing on
the analog out card, and I do simple math to convert this to how
many seconds I’m playing that voltage for. Frequently I get this
math wrong. That’s why I wrote this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.play_voltages">
<span class="sig-name descname"><span class="pre">play_voltages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_final_zeros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.play_voltages" title="Permalink to this definition"></a></dt>
<dd><p>If voltage is None, play the previously set voltage.
If ‘force_final_zeros’, the last entry of each channel of
‘voltages’ is set to zero.
If ‘block’, this function will not return until the voltages are
finished playing. Not performant, but easier to reason about.
NB: by default, play_voltages() blocks until the voltages finish
playing. This makes it harder to accidentally code yourself into
ugly race conditions, but it obviously makes it hard to do
anything else while the board is playing voltages. Since
we’re just issuing a DLL call, it’s easy for play_voltages() to
return as soon as the voltage task has started playing. This is
probably what you want! But easier to write bugs with.
Regardless, if a previous voltage task is still playing, we have
to wait for it to finish before we can start the next one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.plot_voltages">
<span class="sig-name descname"><span class="pre">plot_voltages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.plot_voltages" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.s2p">
<span class="sig-name descname"><span class="pre">s2p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.s2p" title="Permalink to this definition"></a></dt>
<dd><p>Convert a duration in seconds to a number of AO “pixels.”
Frequently I know how many seconds I want to play a voltage for,
and I do simple math to convert this to how many “pixels” of
voltage I should use on the analog out card to get this many
seconds. Frequently I get this math wrong. That’s why I wrote
this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.s2s">
<span class="sig-name descname"><span class="pre">s2s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.s2s" title="Permalink to this definition"></a></dt>
<dd><p>Calculate nearest duration the AO card can exactly deliver.
This function rounds a time (in seconds) to the nearest time
that the AO card can exactly deliver via an integer number of
“pixels”. For example, maybe you’d like to play a 10 millisecond
pulse of voltage, but the AO rate is set to 300; how many
“pixels” should we expect the AO card play for?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.set_rate">
<span class="sig-name descname"><span class="pre">set_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.set_rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.set_verbose">
<span class="sig-name descname"><span class="pre">set_verbose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbosevalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.set_verbose" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.ni_synthetic.Analog_Out.setconstantvoltage">
<span class="sig-name descname"><span class="pre">setconstantvoltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.ni_synthetic.Analog_Out.setconstantvoltage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-src.ni_board.vni">
<span id="src-ni-board-vni-module"></span><h2>src.ni_board.vni module<a class="headerlink" href="#module-src.ni_board.vni" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.ni_board.vni.</span></span><span class="sig-name descname"><span class="pre">Analog_Out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daq_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'6733'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Dev1/ao0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daq_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'6733'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Dev1/ao0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxVol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Play analog voltages via a National Instruments analog-out DAQ board.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.get_voltage_array">
<span class="sig-name descname"><span class="pre">get_voltage_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exposure_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_low_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_high_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_triggertime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_camera_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_triggertime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">laser_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.get_voltage_array" title="Permalink to this definition"></a></dt>
<dd><p>channels: stage trigger, remote mirror, TTL laser (4), camera trigger
:returns Array with voltages for 0: stage, 1: camera trigger, 2: remote mirror</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.p2s">
<span class="sig-name descname"><span class="pre">p2s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pixels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.p2s" title="Permalink to this definition"></a></dt>
<dd><p>Convert a  number of AO “pixels to a duration in seconds.”
Frequently I know how many “pixels” of voltage I’m playing on
the analog out card, and I do simple math to convert this to how
many seconds I’m playing that voltage for. Frequently I get this
math wrong. That’s why I wrote this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.play_voltages">
<span class="sig-name descname"><span class="pre">play_voltages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_final_zeros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.play_voltages" title="Permalink to this definition"></a></dt>
<dd><p>If voltage is None, play the previously set voltage.
If ‘force_final_zeros’, the last entry of each channel of
‘voltages’ is set to zero.
If ‘block’, this function will not return until the voltages are
finished playing. Not performant, but easier to reason about.
NB: by default, play_voltages() blocks until the voltages finish
playing. This makes it harder to accidentally code yourself into
ugly race conditions, but it obviously makes it hard to do
anything else while the board is playing voltages. Since
we’re just issuing a DLL call, it’s easy for play_voltages() to
return as soon as the voltage task has started playing. This is
probably what you want! But easier to write bugs with.
Regardless, if a previous voltage task is still playing, we have
to wait for it to finish before we can start the next one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.plot_voltages">
<span class="sig-name descname"><span class="pre">plot_voltages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.plot_voltages" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.s2p">
<span class="sig-name descname"><span class="pre">s2p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.s2p" title="Permalink to this definition"></a></dt>
<dd><p>Convert a duration in seconds to a number of AO “pixels.”
Frequently I know how many seconds I want to play a voltage for,
and I do simple math to convert this to how many “pixels” of
voltage I should use on the analog out card to get this many
seconds. Frequently I get this math wrong. That’s why I wrote
this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.s2s">
<span class="sig-name descname"><span class="pre">s2s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.s2s" title="Permalink to this definition"></a></dt>
<dd><p>Calculate nearest duration the AO card can exactly deliver.
This function rounds a time (in seconds) to the nearest time
that the AO card can exactly deliver via an integer number of
“pixels”. For example, maybe you’d like to play a 10 millisecond
pulse of voltage, but the AO rate is set to 300; how many
“pixels” should we expect the AO card play for?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.set_rate">
<span class="sig-name descname"><span class="pre">set_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.set_rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.set_verbose">
<span class="sig-name descname"><span class="pre">set_verbose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbosevalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.set_verbose" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.ni_board.vni.Analog_Out.setconstantvoltage">
<span class="sig-name descname"><span class="pre">setconstantvoltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.Analog_Out.setconstantvoltage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.ni_board.vni.check_error">
<span class="sig-prename descclassname"><span class="pre">src.ni_board.vni.</span></span><span class="sig-name descname"><span class="pre">check_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.ni_board.vni.check_error" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-src.ni_board">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-src.ni_board" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Stephan Daetwyler, Reto Fiolka.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>